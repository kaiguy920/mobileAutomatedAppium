{"version":3,"file":"screenshot.js","names":["commands","getScreenshot","mjpegStream","data","lastChunkPNGBase64","log","warn","uiautomator2","jwproxy","command"],"sources":["../../../lib/commands/screenshot.js"],"sourcesContent":["const commands = {};\n\ncommands.getScreenshot = async function () {\n  if (this.mjpegStream) {\n    const data = await this.mjpegStream.lastChunkPNGBase64();\n    if (data) {\n      return data;\n    }\n    this.log.warn('Tried to get screenshot from active MJPEG stream, but there ' +\n      'was no data yet. Falling back to regular screenshot methods.');\n  }\n  return await this.uiautomator2.jwproxy.command('/screenshot', 'GET');\n};\n\nexport default commands;\n"],"mappings":";;;;;;;;;AAAA,MAAMA,QAAQ,GAAG,EAAjB;;AAEAA,QAAQ,CAACC,aAAT,GAAyB,kBAAkB;EACzC,IAAI,KAAKC,WAAT,EAAsB;IACpB,MAAMC,IAAI,GAAG,MAAM,KAAKD,WAAL,CAAiBE,kBAAjB,EAAnB;;IACA,IAAID,IAAJ,EAAU;MACR,OAAOA,IAAP;IACD;;IACD,KAAKE,GAAL,CAASC,IAAT,CAAc,iEACZ,8DADF;EAED;;EACD,OAAO,MAAM,KAAKC,YAAL,CAAkBC,OAAlB,CAA0BC,OAA1B,CAAkC,aAAlC,EAAiD,KAAjD,CAAb;AACD,CAVD;;eAYeT,Q"}